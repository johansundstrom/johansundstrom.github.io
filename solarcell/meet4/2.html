<!doctype html>
<html lang="en">

<head>
    <title>SOLEL</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--Material Google-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        .nav-link {
            padding: .2rem;
        }

        .back {
            font-family: arial;
            font-size: .7em;
        }
        .jumbotron {
            background: linear-gradient(to right, #d589f3 20%,#f7f5f1 100%); 
        }
        .initiallyHidden { display: none; }
    </style>
</head>

<body>
    <p class="back text-muted lead ml-2 mb-2"><a href="/index.html">
    << Tillbaka</a> </p> <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4">2. Beräkna försäljning</h1>
            <hr class="my-2">
            <ul class="lead">
                <li>Försäljning av producerad el (nätnytta) - <a href="http://www.prosument.se/" class="text-danger">Sälj el</a></li>
                <li>Mikroproduktion</li>
                <li>Elcertifikat</li>
                <li>Skattereduktion</li>
            </ul>
            <p class="lead">Övning (Ver. 2)</p>

            <div class="border border-primary p-2">
                <table>
                    <tbody>
                        <tr>
                            <td class="text-left pr-3"><strong>Elförsäljning</strong></td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                        </tr>
                        <tr>
                            <td class="text-right pr-3">Pris såld kWh</td>
                            <td><input type="number" min="-180" max="180" id="sell" style="width: 100px;" oninput="sumSoldEnergy()"></td>
                            <td class="text-left pl-3">SEK, &nbsp;(inkl. moms <input type="checkbox" id="c1" onchange="tax('c1', 'sell')"> )</td>
                        </tr>
                        <tr>
                            <td class="text-left pr-3"><strong>Nätleverans</strong></td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                        </tr>
                        <tr>
                            <td class="text-right pr-3">Mikroproduktion</td>
                            <td><input type="number" min="-180" max="180" id="deliver" value="0.05" style="width: 100px;" oninput="sumSoldEnergy()"></td>
                            <td class="text-left pl-3">SEK (EEM), &nbsp;(inkl. moms <input type="checkbox" id="c2" onchange="tax('c2', 'deliver')"> )</td>
                        </tr>
                        <tr>
                            <td class="text-left pr-3"><strong>Elcertifikat</strong></td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                        </tr>
                        <tr>
                            <td class="text-right pr-3">Energimyndigheten</td>
                            <td><input type="number" min="-180" max="180" id="certificate" value="0.11" style="width: 100px;" oninput="sumSoldEnergy()"></td>
                            <td class="text-left pl-3">SEK (Snittpris mars), &nbsp;(inkl. moms <input type="checkbox" checked id="c3" onchange="tax('c3', 'certificate')"> )</td>
                        </tr>
                        <tr>
                            <td class="text-left pr-3"><strong>Skattereduktion</strong></td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                        </tr>
                        <tr>
                            <td class="text-left pr-3">Tillbaks på dekl.</td>
                            <td><input type="number" min="-180" max="180" id="taxReturn" value="0.60" style="width: 100px;" oninput="sumSoldEnergy()"></td>
                            <td class="text-left pl-3">SEK (max 18 000SEK/år)</td>
                        </tr>
                        <tr>
                            <td class="text-right pr-3">Summa</td>
                            <td><span class="text-right" id="sum"></span></td>
                            <td class="text-left pl-3">SEK/kWh</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <br>


            </div>
            <hr class="my-2 mb-4">

            <nav class="float-right">
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link" href="1.html"><i class="material-icons">keyboard_arrow_left</i></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html"><i class="material-icons">home</i></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="3.html"><i class="material-icons">keyboard_arrow_right</i></a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <script>
    var sum;
    var myValue;
    var soldEnergy;

    function sumSoldEnergy() {
        soldEnergy = parseFloat(sell.value) + parseFloat(deliver.value) + parseFloat(certificate.value) + parseFloat(taxReturn.value);
        soldEnergy = soldEnergy.toFixed(2);
        if (soldEnergy > 0 ) {
            document.getElementById("sum").innerHTML = soldEnergy.toString();
        }
    }

    function tax(selector, target) {
        var mySel = document.getElementById(selector).checked;
        var myTar = document.getElementById(target).value;
        if (mySel) {
            x = myTar * 1.25;
            x = x.toFixed(2)
            document.getElementById(target).value = x.toString();
            sumSoldEnergy();
        } else {
            x = myTar * 0.8;
            x = x.toFixed(2)
            document.getElementById(target).value = x.toString();
            sumSoldEnergy();
        }
    }
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>
